<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boards - Pinterest</title>
    <link rel="stylesheet" crossorigin href="/dweb-rh/assets/index-I0l3_rlN.css">
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: var(--color-background);
        font-family: var(--font-family-pin-sans);
        display: flex;
        min-height: 100vh;
      }
      .app-container {
        display: flex;
        width: 100%;
        min-height: 100vh;
      }
      .boards-main {
        flex: 1;
        min-width: 0;
        overflow-y: auto;
        overflow-x: hidden;
        position: relative;
        /* Prevent horizontal scrolling and diagonal movement */
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
        /* Ensure content doesn't exceed container width */
        max-width: 100%;
        box-sizing: border-box;
        /* Force strict vertical scrolling */
        direction: ltr;
        /* Add margin to account for fixed GlobalNav + 16px gap */
        margin-left: calc(var(--global-nav-width, 80px) + 16px);
      }
      /* Ensure all child elements respect container width */
      .boards-main > * {
        max-width: 100%;
        box-sizing: border-box;
      }
      /* Prevent any horizontal transforms or shifts */
      body, html {
        overflow-x: hidden !important;
        width: 100% !important;
        max-width: 100vw !important;
      }
      /* Ensure app-container doesn't cause horizontal overflow */
      .app-container {
        overflow-x: hidden !important;
        max-width: 100vw !important;
      }
      /* Ensure SearchBar transforms don't cause layout shifts */
      .SearchBar-module__searchBar,
      .SearchBar-module__hStack {
        transform-origin: center top !important;
        will-change: transform, opacity !important;
      }
      /* Hover overlay for expanded SearchBar icon */
      .SearchBar-module__searchBar.SearchBar-module__expanded .SearchBar-module__searchIconContainer {
        position: relative !important;
        cursor: pointer !important;
      }
      .SearchBar-module__searchBar.SearchBar-module__expanded .SearchBar-module__searchIconContainer::after {
        content: '' !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: rgba(0, 0, 0, 0) !important;
        border-radius: 50% !important;
        transition: background 0.15s ease !important;
        pointer-events: none !important;
      }
      .SearchBar-module__searchBar.SearchBar-module__expanded .SearchBar-module__searchIconContainer:hover::after {
        background: rgba(0, 0, 0, 0.2) !important;
      }
      /* Close icon on hover - centered over overlay */
      .SearchBar-module__searchBar.SearchBar-module__expanded .SearchBar-module__searchIconContainer::before {
        content: '' !important;
        position: absolute !important;
        top: 50% !important;
        left: 50% !important;
        width: 16px !important;
        height: 16px !important;
        transform: translate(-50%, -50%) !important;
        background-image: url('/dweb-rh/assets/compact-close.svg') !important;
        background-size: 16px 16px !important;
        background-repeat: no-repeat !important;
        background-position: center !important;
        opacity: 0 !important;
        transition: opacity 0.15s ease !important;
        pointer-events: none !important;
        z-index: 1 !important;
      }
      .SearchBar-module__searchBar.SearchBar-module__expanded .SearchBar-module__searchIconContainer:hover::before {
        opacity: 1 !important;
      }
      /* Avatar helper card - prepended on icon click */
      /* Matches exact computed styles from existing SearchHelperCard-module__helperCard */
      .SearchHelperCard-module__helperCard--avatar {
        display: flex !important;
        align-items: center !important;
        column-gap: 12px !important;
        row-gap: 12px !important;
        box-sizing: border-box !important;
        width: 551px !important;
        height: 80px !important;
        padding: 4px !important;
        margin-top: 4px !important;
        background-color: rgb(255, 255, 255) !important;
        border-radius: 14px !important;
        border: none !important;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.1) 0px 4px 6px -4px !important;
        cursor: pointer !important;
        pointer-events: auto !important;
        flex-shrink: 0 !important;
        order: -9999 !important;
        animation: SearchHelperCard-module__slideIn 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) backwards !important;
        transition: background-color 0.15s cubic-bezier(0, 0, 0.2, 1) !important;
      }
      .SearchHelperCard-module__helperCard--avatar .SearchHelperCard-module__thumbnail {
        width: 72px !important;
        height: 72px !important;
        min-width: 72px !important;
        flex-shrink: 0 !important;
        position: relative !important;
        border-radius: 10px !important;
        overflow: hidden !important;
      }
      .SearchHelperCard-module__helperCard--avatar .avatar-thumb-overlay {
        position: relative !important;
        width: 72px !important;
        height: 72px !important;
      }
      .SearchHelperCard-module__helperCard--avatar .SearchHelperCard-module__imageThumb {
        width: 72px !important;
        height: 72px !important;
        border-radius: 10px !important;
        object-fit: cover !important;
        display: block !important;
      }
      .SearchHelperCard-module__helperCard--avatar .avatar-thumb-darken {
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
        width: 72px !important;
        height: 72px !important;
        background: rgba(0, 0, 0, 0.2) !important;
        border-radius: 10px !important;
        pointer-events: none !important;
      }
      .SearchHelperCard-module__helperCard--avatar .avatar-thumb-close {
        position: absolute !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        width: 16px !important;
        height: 16px !important;
        pointer-events: none !important;
      }
      .SearchHelperCard-module__helperCard--avatar .SearchHelperCard-module__category {
        display: none !important;
      }
      .SearchHelperCard-module__helperCard--avatar .SearchHelperCard-module__title {
        font-family: "Pin Sans", -apple-system, "system-ui", "Segoe UI", sans-serif !important;
        font-size: 14px !important;
        font-weight: 400 !important;
        line-height: 1.4 !important;
        text-align: left !important;
        color: rgb(3, 2, 19) !important;
        -webkit-font-smoothing: antialiased !important;
        margin: 0 !important;
      }
      .boards-title {
        position: absolute;
        top: 28px;
        left: 0;
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 28px;
        font-weight: 700;
        color: #111111;
        margin: 0;
      }
      .boards-tabs {
        position: absolute;
        top: 88px;
        left: 0;
        display: flex;
        gap: 24px;
      }
      .boards-tab {
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 16px;
        font-weight: 600;
        color: #767676;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
        position: relative;
      }
      .boards-tab.active {
        color: #111111;
      }
      .boards-tab.active::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 0;
        right: 0;
        height: 3px;
        background-color: #111111;
        border-radius: 2px;
      }
      .filter-controls {
        position: absolute;
        top: calc(89px + 22px + 30px);
        left: 0;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .filter-controls .filter-icon {
        margin-right: 16px;
      }
      .filter-icon {
        width: 20px;
        height: 20px;
        background: transparent;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }
      .filter-icon::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 36px;
        height: 36px;
        background-color: #DADAD3;
        border-radius: 8px;
        opacity: 0;
        transition: opacity var(--transition-base) var(--ease-in-out);
        z-index: -1;
      }
      .filter-icon:hover::before {
        opacity: 1;
      }
      .filter-icon svg {
        width: 20px;
        height: 20px;
        position: relative;
        z-index: 1;
      }
      .filter-icon svg path {
        fill: #111111;
      }
      .group-button {
        padding: 8px 12px;
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 14px;
        font-weight: 600;
        color: #111111;
        background-color: transparent;
        border: 1px solid #E2E2E2;
        border-radius: 24px;
        cursor: pointer;
        transition: background-color 0.2s, border-color 0.2s;
      }
      .group-button:hover {
        background-color: #F6F6F3;
        border-color: #85857F;
      }
      .secret-button {
        padding: 8px 12px;
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 14px;
        font-weight: 600;
        color: #111111;
        background-color: transparent;
        border: 1px solid #E2E2E2;
        border-radius: 24px;
        cursor: pointer;
        transition: background-color 0.2s, border-color 0.2s;
      }
      .secret-button:hover {
        background-color: #F6F6F3;
        border-color: #85857F;
      }
      .archived-button {
        padding: 8px 12px;
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 14px;
        font-weight: 600;
        color: #111111;
        background-color: transparent;
        border: 1px solid #E2E2E2;
        border-radius: 24px;
        cursor: pointer;
        transition: background-color 0.2s, border-color 0.2s;
      }
      .archived-button:hover {
        background-color: #F6F6F3;
        border-color: #85857F;
      }
      /* Sticky profile header */
      .profile-header {
        position: sticky;
        top: 0;
        background-color: #ffffff;
        z-index: 100;
        width: 100%;
        min-height: 200px;
      }
      .MasonryGrid-module__gridContainer {
        margin-left: 0;
        margin-right: 0;
        position: relative;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
        overflow: hidden;
      }
      .board-rep {
        width: 236px;
        height: 157px;
        border-radius: 16px;
        display: flex;
        position: absolute;
        background-color: transparent;
        margin-bottom: 16px;
      }
      .board-rep-left {
        width: 157px;
        height: 157px;
        flex-shrink: 0;
        overflow: hidden;
        border-radius: 16px 0 0 16px;
      }
      .board-rep-left img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }
      .board-rep-right {
        width: 78px;
        height: 157px;
        margin-left: 1px;
        display: flex;
        flex-direction: column;
        flex-shrink: 0;
        overflow: hidden;
        border-radius: 0 16px 16px 0;
      }
      .board-rep-small-top {
        width: 78px;
        height: 78px;
        object-fit: cover;
        display: block;
      }
      .board-rep-small-bottom {
        width: 78px;
        height: 78px;
        margin-top: 1px;
        object-fit: cover;
        display: block;
      }
      .board-title {
        position: absolute;
        top: calc(100% + 8px);
        left: 8px;
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 16px;
        font-weight: 600;
        color: #111111;
        margin: 0;
      }
      .board-subtitle {
        position: absolute;
        top: calc(100% + 8px + 16px + 4px);
        left: 8px;
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 12px;
        font-weight: 400;
        color: #111111;
        margin: 0;
      }
      .profile-preview {
        position: absolute;
        top: 32px;
        right: 104px;
        width: auto;
        overflow: visible;
        padding-right: 0;
      }
      .profile-info-wrapper {
        width: 200px;
        position: absolute;
        right: calc(16px + 120px);
        top: 0;
      }
      .view-profile-button {
        position: absolute;
        top: 45px;
        right: 0;
        transform: translateY(-50%);
        padding: 14.5px 16px;
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 16px;
        font-weight: 600;
        color: #111111;
        background-color: #EFEFEF;
        border: none;
        border-radius: 24px;
        cursor: pointer;
        transition: background-color 0.2s;
        white-space: nowrap;
      }
      .view-profile-button:hover {
        background-color: #DADAD3;
      }
      .boards-avatar {
        position: absolute;
        top: 45px;
        right: calc(16px + 120px + 200px + 16px);
        transform: translateY(-50%);
        width: 60px !important;
        height: 60px !important;
        min-width: 60px !important;
        max-width: 60px !important;
        border-radius: 50%;
        object-fit: cover;
        z-index: 10;
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
      }
      .profile-name {
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 18px;
        font-weight: 600;
        color: #111111;
        margin: 0 0 4px 0;
      }
      .profile-description {
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 14px;
        font-weight: 400;
        color: #111111;
        margin: 0 0 8px 0;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      .profile-stats {
        font-family: "Pin Sans", var(--font-family-pin-sans);
        font-size: 14px;
        font-weight: 400;
        color: #767676;
        margin: 0;
      }
      .nav-icon {
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 24px;
        background-color: transparent;
        border: none;
        cursor: pointer;
        transition: background-color 0.2s;
        margin-bottom: 8px;
      }
      .nav-icon:hover {
        background-color: var(--color-surface-hover);
      }
      .nav-icon:active {
        background-color: var(--color-surface-active);
      }
      .nav-icon svg {
        width: 24px;
        height: 24px;
      }
      .nav-icon.active {
        background-color: #000000;
      }
      .nav-icon.active svg {
        color: #ffffff;
      }
      .nav-icon.active svg path {
        fill: #ffffff;
      }
      .avatar-button {
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 24px;
        background-color: transparent;
        border: none;
        cursor: pointer;
        transition: background-color 0.2s;
        margin-bottom: 8px;
        padding: 0;
      }
      .avatar-button:hover {
        background-color: var(--color-surface-hover);
      }
      .avatar-button:active {
        background-color: var(--color-surface-active);
      }
      .avatar-image {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        object-fit: cover;
      }
      .App-module__main {
        display: none !important;
      }
      .SearchHelperCard-module__helperCard {
        box-shadow: var(--shadow-lg) !important;
      }
      .IconButton-module__iconButton[aria-current="page"],
      .IconButton-module__iconButton[aria-selected="true"],
      .IconButton-module__iconButton.active,
      .IconButton-module__iconButton[data-active="true"] {
        background-color: #000000 !important;
        border-radius: 8px !important;
        padding: 8px 12px !important;
      }
      .IconButton-module__iconButton[aria-current="page"] svg,
      .IconButton-module__iconButton[aria-current="page"] svg path,
      .IconButton-module__iconButton[aria-selected="true"] svg,
      .IconButton-module__iconButton[aria-selected="true"] svg path,
      .IconButton-module__iconButton.active svg,
      .IconButton-module__iconButton.active svg path,
      .IconButton-module__iconButton[data-active="true"] svg,
      .IconButton-module__iconButton[data-active="true"] svg path {
        fill: #ffffff !important;
        color: #ffffff !important;
      }
      .GlobalNav-module__globalNav {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        height: 100vh !important;
        z-index: 200 !important;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" crossorigin src="/dweb-rh/assets/index-BLL-NyY1.js"></script>
    <script>
      console.log('[DEBUG] boards.html inline script starting...');
      
      // Fix image paths for GitHub Pages
      (function() {
        const basePath = '/dweb-rh';
        
        function fixImageSrc(img) {
          if (!img) return;
          let src = img.getAttribute('src') || img.src || '';
          try {
            const url = new URL(src, window.location.origin);
            src = url.pathname;
          } catch(e) {}
          
          if (src && src.startsWith('/assets/') && !src.startsWith(basePath)) {
            const fixedSrc = basePath + src;
            img.src = fixedSrc;
            img.setAttribute('src', fixedSrc);
            return true;
          }
          return false;
        }
        
        function fixImagePaths() {
          const images = document.querySelectorAll('img');
          images.forEach(fixImageSrc);
        }
        
        const OriginalImage = window.Image;
        window.Image = function(...args) {
          const img = new OriginalImage(...args);
          if (args.length > 0 && typeof args[0] === 'string') {
            const src = args[0];
            if (src.startsWith('/assets/') && !src.startsWith(basePath)) {
              img.src = basePath + src;
            }
          }
          return img;
        };
        
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            mutation.addedNodes.forEach(function(node) {
              if (node.nodeType === 1) {
                if (node.tagName === 'IMG') {
                  fixImageSrc(node);
                }
                const images = node.querySelectorAll && node.querySelectorAll('img');
                if (images) {
                  images.forEach(fixImageSrc);
                }
              }
            });
          });
        });
        
        fixImagePaths();
        observer.observe(document.body, {
          childList: true,
          subtree: true,
          attributes: true,
          attributeFilter: ['src']
        });
        
        const attrObserver = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'src') {
              fixImageSrc(mutation.target);
            }
          });
        });
        
        function observeAllImages() {
          const allImages = document.querySelectorAll('img');
          allImages.forEach(img => {
            attrObserver.observe(img, { attributes: true, attributeFilter: ['src'] });
            fixImageSrc(img);
          });
        }
        
        document.addEventListener('DOMContentLoaded', observeAllImages);
        setInterval(fixImagePaths, 1000);
        setTimeout(fixImagePaths, 100);
        setTimeout(fixImagePaths, 500);
        setTimeout(fixImagePaths, 1000);
        setTimeout(fixImagePaths, 2000);
      })();
      
      // Fix font paths in CSS
      (function() {
        const basePath = '/dweb-rh';
        
        function fixFontPaths() {
          try {
            const styleSheets = document.styleSheets;
            for (let i = 0; i < styleSheets.length; i++) {
              try {
                const rules = styleSheets[i].cssRules || styleSheets[i].rules;
                if (rules) {
                  for (let j = 0; j < rules.length; j++) {
                    const rule = rules[j];
                    if (rule instanceof CSSFontFaceRule && rule.style && rule.style.src) {
                      let src = rule.style.src;
                      if (src && src.includes('/assets/') && !src.includes(basePath)) {
                        src = src.replace(/\/assets\//g, basePath + '/assets/');
                        rule.style.src = src;
                      }
                    }
                  }
                }
              } catch(e) {
                // Cross-origin stylesheet, skip
              }
            }
          } catch(e) {
            // Ignore errors
          }
        }
        
        // Fix fonts on load and watch for new stylesheets
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', fixFontPaths);
        } else {
          fixFontPaths();
        }
        
        const styleObserver = new MutationObserver(() => {
          fixFontPaths();
        });
        styleObserver.observe(document.head, { childList: true, subtree: true });
        
        // Also fix fonts periodically
        setInterval(fixFontPaths, 500);
      })();
      
      // Fix App-module__app link to home page
      (function() {
        let attempts = 0;
        const maxAttempts = 50;
        
        function fixAppLink() {
          const appLink = document.querySelector('.App-module__app');
          if (appLink) {
            // If it's already an anchor tag, set href
            if (appLink.tagName === 'A') {
              appLink.href = '/dweb-rh/index.html';
              appLink.setAttribute('href', '/dweb-rh/index.html');
            } else {
              // If it's a button or div, make it clickable
              appLink.style.cursor = 'pointer';
              appLink.addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = '/dweb-rh/index.html';
              });
            }
            return true;
          }
          return false;
        }
        
        if (!fixAppLink()) {
          const observer = new MutationObserver(function() {
            attempts++;
            if (fixAppLink() || attempts >= maxAttempts) {
              observer.disconnect();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true });
          
          const interval = setInterval(function() {
            attempts++;
            if (fixAppLink() || attempts >= maxAttempts) {
              clearInterval(interval);
              observer.disconnect();
            }
          }, 100);
        }
      })();
      
      // Prevent searchbar navigation while keeping animation/behavior
      (function() {
        let attempts = 0;
        const maxAttempts = 100;
        
        function preventSearchbarNavigation() {
          // Find all searchbar elements
          const searchBarWrapper = document.querySelector('.ScrollableSearchBar-module__searchBarWrapper');
          const searchBarVStack = document.querySelector('.SearchBar-module__vStack');
          const allSearchBarElements = document.querySelectorAll('[class*="SearchBar"], [class*="searchBar"]');
          
          let found = false;
          
          // Remove href attributes and prevent navigation on all searchbar links
          allSearchBarElements.forEach(element => {
            // SKIP searchIconContainer - it has its own click handler for avatar card
            if (element.classList.contains('SearchBar-module__searchIconContainer')) {
              return;
            }
            
            const links = element.querySelectorAll('a');
            links.forEach(link => {
              // SKIP links inside searchIconContainer
              if (link.closest('.SearchBar-module__searchIconContainer')) {
                return;
              }
              
              const href = link.getAttribute('href');
              if (href && href !== '#' && !href.startsWith('javascript:')) {
                // Remove or neutralize href
                link.setAttribute('data-original-href', href);
                link.removeAttribute('href');
                link.style.cursor = 'pointer';
                
                // Prevent all click navigation
                link.addEventListener('click', function(e) {
                  e.preventDefault();
                  e.stopPropagation();
                  e.stopImmediatePropagation();
                  
                  // Allow focus to work for animation
                  const input = element.querySelector('input') || link.querySelector('input');
                  if (input) {
                    input.focus();
                  } else if (link.focus) {
                    link.focus();
                  }
                  return false;
                }, true);
                
                found = true;
              }
            });
            
            // Also prevent clicks on the element itself (but skip searchIconContainer)
            element.addEventListener('click', function(e) {
              const target = e.target;
              // SKIP if click originated from searchIconContainer
              if (target.closest('.SearchBar-module__searchIconContainer')) {
                return;
              }
              if (target.tagName === 'A' || target.closest('a')) {
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                
                const input = element.querySelector('input');
                if (input) {
                  input.focus();
                }
                return false;
              }
            }, true);
          });
          
          // Prevent navigation on searchbar wrapper specifically
          if (searchBarWrapper) {
            const allClickable = searchBarWrapper.querySelectorAll('a, [role="button"], button');
            allClickable.forEach(el => {
              // SKIP elements inside searchIconContainer
              if (el.closest('.SearchBar-module__searchIconContainer')) {
                return;
              }
              if (el.tagName === 'A') {
                const href = el.getAttribute('href');
                if (href && href !== '#' && !href.startsWith('javascript:')) {
                  el.setAttribute('data-original-href', href);
                  el.removeAttribute('href');
                }
              }
              el.addEventListener('click', function(e) {
                // SKIP if click originated from searchIconContainer
                if (e.target.closest('.SearchBar-module__searchIconContainer')) {
                  return;
                }
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                
                const input = searchBarWrapper.querySelector('input');
                if (input) {
                  input.focus();
                }
                return false;
              }, true);
            });
            found = true;
          }
          
          // Prevent navigation on searchbar vStack
          if (searchBarVStack) {
            const allClickable = searchBarVStack.querySelectorAll('a, [role="button"], button');
            allClickable.forEach(el => {
              // SKIP elements inside searchIconContainer
              if (el.closest('.SearchBar-module__searchIconContainer')) {
                return;
              }
              if (el.tagName === 'A') {
                const href = el.getAttribute('href');
                if (href && href !== '#' && !href.startsWith('javascript:')) {
                  el.setAttribute('data-original-href', href);
                  el.removeAttribute('href');
                }
              }
              el.addEventListener('click', function(e) {
                // SKIP if click originated from searchIconContainer
                if (e.target.closest('.SearchBar-module__searchIconContainer')) {
                  return;
                }
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();
                
                const input = searchBarVStack.querySelector('input');
                if (input) {
                  input.focus();
                }
                return false;
              }, true);
            });
            found = true;
          }
          
          return found;
        }
        
        // Also intercept window.location changes that might be triggered
        const originalLocationSetter = Object.getOwnPropertyDescriptor(window, 'location') || 
                                      Object.getOwnPropertyDescriptor(Window.prototype, 'location');
        
        // Prevent navigation via window.location if triggered from searchbar (except searchIconContainer)
        document.addEventListener('click', function(e) {
          const target = e.target;
          const searchBarElement = target.closest('[class*="SearchBar"], [class*="searchBar"]');
          
          // Skip if clicking on searchIconContainer - let our custom handler handle it
          const searchIconContainer = target.closest('.SearchBar-module__searchIconContainer');
          if (searchIconContainer) {
            return; // Don't prevent, let the avatar card handler run
          }
          
          if (searchBarElement) {
            // Prevent any navigation
            e.preventDefault();
            e.stopPropagation();
            
            // Allow focus for animation
            const input = searchBarElement.querySelector('input');
            if (input) {
              setTimeout(() => input.focus(), 0);
            }
          }
        }, true);
        
        if (!preventSearchbarNavigation()) {
          const observer = new MutationObserver(function() {
            attempts++;
            if (preventSearchbarNavigation() || attempts >= maxAttempts) {
              observer.disconnect();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true, attributes: true, attributeFilter: ['href'] });
          
          const interval = setInterval(function() {
            attempts++;
            if (preventSearchbarNavigation() || attempts >= maxAttempts) {
              clearInterval(interval);
              observer.disconnect();
            }
          }, 100);
        }
      })();
      
      // Change search bar placeholder text
      (function() {
        let attempts = 0;
        const maxAttempts = 50;
        
        function changeSearchBarText() {
          const hStack = document.querySelector('.SearchBar-module__hStack');
          if (hStack) {
            const input = hStack.querySelector('input');
            if (input) {
              input.placeholder = 'Search your saved ideas';
              return true;
            }
          }
          return false;
        }
        
        if (!changeSearchBarText()) {
          const observer = new MutationObserver(function() {
            attempts++;
            if (changeSearchBarText() || attempts >= maxAttempts) {
              observer.disconnect();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true });
          
          const interval = setInterval(function() {
            attempts++;
            if (changeSearchBarText() || attempts >= maxAttempts) {
              clearInterval(interval);
              observer.disconnect();
            }
          }, 100);
        }
      })();
      
      // Replace SearchBar-module__searchIconContainer with boards-avatar copy
      (function() {
        let attempts = 0;
        const maxAttempts = 50;
        
        function replaceSearchIcon() {
          const searchIconContainer = document.querySelector('.SearchBar-module__searchIconContainer');
          if (searchIconContainer && !searchIconContainer.querySelector('img[src="/dweb-rh/assets/avatar/avatar.png"]')) {
            // Create avatar image matching boards-avatar styling
            const avatarImg = document.createElement('img');
            avatarImg.src = '/dweb-rh/assets/avatar/avatar.png';
            avatarImg.alt = 'Avatar';
            avatarImg.style.width = '48px';
            avatarImg.style.height = '48px';
            avatarImg.style.minWidth = '48px';
            avatarImg.style.maxWidth = '48px';
            avatarImg.style.borderRadius = '50%';
            avatarImg.style.objectFit = 'cover';
            avatarImg.style.display = 'block';
            avatarImg.style.visibility = 'visible';
            avatarImg.style.opacity = '1';
            
            // Replace the container's content with the avatar
            searchIconContainer.innerHTML = '';
            searchIconContainer.appendChild(avatarImg);
            
            // Ensure container maintains proper sizing
            searchIconContainer.style.width = '48px';
            searchIconContainer.style.height = '48px';
            searchIconContainer.style.minWidth = '48px';
            searchIconContainer.style.maxWidth = '48px';
            return true;
          }
          return false;
        }
        
        if (!replaceSearchIcon()) {
          const observer = new MutationObserver(function() {
            attempts++;
            if (replaceSearchIcon() || attempts >= maxAttempts) {
              observer.disconnect();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true });
          
          const interval = setInterval(function() {
            attempts++;
            if (replaceSearchIcon() || attempts >= maxAttempts) {
              clearInterval(interval);
              observer.disconnect();
            }
          }, 100);
        }
      })();
      
      // Add avatar helper card on searchIconContainer click
      (function() {
        function createAvatarHelperCard() {
          const card = document.createElement('div');
          card.className = 'SearchHelperCard-module__helperCard SearchHelperCard-module__helperCard--avatar';
          card.setAttribute('data-avatar-card', 'true');
          
          card.innerHTML = `
            <div class="SearchHelperCard-module__thumbnail">
              <div class="avatar-thumb-overlay">
                <img src="/dweb-rh/assets/avatar/avatar.png" class="SearchHelperCard-module__imageThumb" alt="Avatar">
                <div class="avatar-thumb-darken"></div>
                <img src="/dweb-rh/assets/compact-close.svg" class="avatar-thumb-close" alt="">
              </div>
            </div>
            <div class="SearchHelperCard-module__title">Search your Pins</div>
          `;
          
          return card;
        }
        
        function getExistingHelperCardsContainer() {
          // Only return the existing React-rendered container
          return document.querySelector('.SearchHelperCards-module__helperCardsContainer');
        }
        
        function addAvatarCardToContainer(container) {
          // Check if avatar card already exists - don't add duplicate
          const existingCard = container.querySelector('[data-avatar-card="true"]');
          if (!existingCard) {
            const avatarCard = createAvatarHelperCard();
            // Append to end - CSS order: -9999 will position it first visually
            container.appendChild(avatarCard);
            return true;
          }
          return false;
        }
        
        // Attach handler immediately to document - don't wait for element
        document.addEventListener('click', function(e) {
          // #region agent log
          console.log('[DEBUG H1] Click event received', {targetClass:e.target.className,targetTag:e.target.tagName,x:e.clientX,y:e.clientY});
          // Check if searchIconContainer exists in DOM
          const iconContainer = document.querySelector('.SearchBar-module__searchIconContainer');
          if (iconContainer) {
            const rect = iconContainer.getBoundingClientRect();
            console.log('[DEBUG H1b] searchIconContainer POSITION', 'LEFT:'+Math.round(rect.x)+' TOP:'+Math.round(rect.y)+' WIDTH:'+Math.round(rect.width)+' HEIGHT:'+Math.round(rect.height));
            console.log('[DEBUG H1c] YOUR CLICK was at X:'+e.clientX+' Y:'+e.clientY);
            const clickInBounds = e.clientX >= rect.x && e.clientX <= rect.x + rect.width && e.clientY >= rect.y && e.clientY <= rect.y + rect.height;
            console.log('[DEBUG H1d] Click in iconContainer bounds?', clickInBounds ? 'YES - SHOULD WORK' : 'NO - CLICK IS OUTSIDE AVATAR');
          } else {
            console.log('[DEBUG H1b] searchIconContainer NOT in DOM');
          }
          // #endregion
          
          const clickedIconContainer = e.target.closest('.SearchBar-module__searchIconContainer');
          // #region agent log
          console.log('[DEBUG H2] clickedIconContainer check', {found:!!clickedIconContainer});
          // #endregion
          if (!clickedIconContainer) return;
          
          // Find the SearchBar
          const searchBar = clickedIconContainer.closest('.SearchBar-module__searchBar');
          // #region agent log
          console.log('[DEBUG H3] searchBar check', {found:!!searchBar,classes:searchBar?searchBar.className:'N/A'});
          // #endregion
          if (!searchBar) return;
          
          // Only trigger when SearchBar has the expanded class
          const isExpanded = searchBar.classList.contains('SearchBar-module__expanded');
          // #region agent log
          console.log('[DEBUG H4] isExpanded check', {isExpanded:isExpanded});
          // #endregion
          if (!isExpanded) return;
          
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
          
          // Try to find existing container, retry if not found
          let helperCardsContainer = getExistingHelperCardsContainer();
          // #region agent log
          console.log('[DEBUG H5] helperCardsContainer check', {found:!!helperCardsContainer});
          // #endregion
          if (helperCardsContainer) {
            // #region agent log
            console.log('[DEBUG H6] Calling addAvatarCardToContainer');
            // #endregion
            const added = addAvatarCardToContainer(helperCardsContainer);
            // #region agent log
            console.log('[DEBUG H6] addAvatarCardToContainer result', {added:added});
            // #endregion
          } else {
            // Container not found - wait for React to render it
            let retries = 0;
            const maxRetries = 20;
            const retryInterval = setInterval(() => {
              retries++;
              helperCardsContainer = getExistingHelperCardsContainer();
              if (helperCardsContainer) {
                clearInterval(retryInterval);
                addAvatarCardToContainer(helperCardsContainer);
              } else if (retries >= maxRetries) {
                clearInterval(retryInterval);
              }
            }, 50);
          }
          
          // Also focus the input field
          const input = searchBar.querySelector('input');
          if (input) {
            setTimeout(() => input.focus(), 0);
          }
        }, true); // Use capturing phase to run before other handlers
      })();
      
      // Fix avatar image in GlobalNav AvatarButton
      (function() {
        let attempts = 0;
        const maxAttempts = 100;
        
        function fixGlobalNavAvatar() {
          const globalNav = document.querySelector('.GlobalNav-module__globalNav');
          if (!globalNav) return false;
          
          const avatarButton = globalNav.querySelector('.AvatarButton-module__avatarButton');
          if (!avatarButton) return false;
          
          // Find the image inside the avatar button
          let avatarImg = avatarButton.querySelector('img');
          
          // If no image exists, create one
          if (!avatarImg) {
            avatarImg = document.createElement('img');
            avatarButton.appendChild(avatarImg);
          }
          
          // Set the image source and make it visible
          avatarImg.src = '/dweb-rh/assets/avatar/avatar.png';
          avatarImg.alt = 'Avatar';
          avatarImg.style.display = 'block';
          avatarImg.style.visibility = 'visible';
          avatarImg.style.opacity = '1';
          avatarImg.style.width = '28px';
          avatarImg.style.height = '28px';
          avatarImg.style.borderRadius = '50%';
          avatarImg.style.objectFit = 'cover';
          
          return true;
        }
        
        // Try immediately
        if (!fixGlobalNavAvatar()) {
          const observer = new MutationObserver(function() {
            attempts++;
            if (fixGlobalNavAvatar() || attempts >= maxAttempts) {
              observer.disconnect();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true });
          
          const interval = setInterval(function() {
            attempts++;
            if (fixGlobalNavAvatar() || attempts >= maxAttempts) {
              clearInterval(interval);
              observer.disconnect();
            }
          }, 100);
        }
        
        // Also run periodically to catch React re-renders
        setInterval(fixGlobalNavAvatar, 1000);
      })();
      
      // Set GlobalNav width as CSS variable and apply margin to boards-main
      (function() {
        function setGlobalNavWidth() {
          const globalNav = document.querySelector('.GlobalNav-module__globalNav');
          const boardsMain = document.querySelector('.boards-main');
          if (globalNav && boardsMain) {
            const width = globalNav.offsetWidth || 80;
            const marginValue = width + 16; // GlobalNav width + 16px gap
            document.documentElement.style.setProperty('--global-nav-width', width + 'px');
            // Also directly set margin to ensure it's applied
            boardsMain.style.marginLeft = marginValue + 'px';
          }
        }
        setGlobalNavWidth();
        const observer = new MutationObserver(setGlobalNavWidth);
        observer.observe(document.body, { childList: true, subtree: true });
        window.addEventListener('resize', setGlobalNavWidth);
        // Also check periodically
        setInterval(setGlobalNavWidth, 500);
      })();
      
      // Hide SearchBar on scroll down (same as home page reveal animation)
      (function() {
        let lastScrollTop = 0;
        let isHidden = false;
        let scrollTimeout;
        let scrollStopTimeout;
        let isInitialized = false;
        
        function getSearchBar() {
          // Try multiple selectors to find the SearchBar
          return document.querySelector('.SearchBar-module__searchBar') ||
                 document.querySelector('.SearchBar-module__hStack') ||
                 document.querySelector('[class*="SearchBar"][class*="hStack"]') ||
                 document.querySelector('.ScrollableSearchBar-module__searchBarWrapper .SearchBar-module__hStack') ||
                 document.querySelector('[class*="SearchBar-module__searchBar"]');
        }
        
        function showSearchBar() {
          const hStack = getSearchBar();
          if (!hStack) {
            console.log('SearchBar not found for show');
            return;
          }
          
          if (isHidden) {
            // Remove transform completely to restore original positioning
            hStack.style.removeProperty('transform');
            hStack.style.setProperty('opacity', '1', 'important');
            hStack.style.setProperty('transition', 'transform 0.3s ease-out, opacity 0.3s ease-out', 'important');
            hStack.style.setProperty('pointer-events', 'auto', 'important');
            // Don't override transform-origin, let it use original CSS
            hStack.style.removeProperty('transform-origin');
            hStack.style.removeProperty('will-change');
            isHidden = false;
            console.log('SearchBar shown');
          }
        }
        
        function hideSearchBar() {
          const hStack = getSearchBar();
          if (!hStack) {
            console.log('SearchBar not found for hide');
            return;
          }
          
          if (!isHidden) {
            // Get the current transform to preserve any existing transforms
            const currentTransform = window.getComputedStyle(hStack).transform;
            let baseTransform = '';
            
            // If there's an existing transform, we need to combine it
            if (currentTransform && currentTransform !== 'none' && currentTransform !== 'matrix(1, 0, 0, 1, 0, 0)') {
              // Extract the matrix values to preserve X translation
              const matrixMatch = currentTransform.match(/matrix\(([^)]+)\)/);
              if (matrixMatch) {
                const values = matrixMatch[1].split(',').map(v => parseFloat(v.trim()));
                // values[4] is translateX, values[5] is translateY
                // We want to preserve translateX but change translateY
                baseTransform = `translate3d(${values[4] || 0}px, 100%, 0)`;
              } else {
                baseTransform = 'translate3d(0, 100%, 0)';
              }
            } else {
              // No existing transform, just move down
              baseTransform = 'translate3d(0, 100%, 0)';
            }
            
            // Move down (reverse of reveal animation) - use translate3d to ensure only Y movement
            hStack.style.setProperty('transform', baseTransform, 'important');
            hStack.style.setProperty('opacity', '0', 'important');
            hStack.style.setProperty('transition', 'transform 0.3s ease-out, opacity 0.3s ease-out', 'important');
            hStack.style.setProperty('pointer-events', 'none', 'important');
            isHidden = true;
            console.log('SearchBar hidden');
          }
        }
        
        function handleScroll(e) {
          const boardsMain = document.querySelector('.boards-main');
          const hStack = getSearchBar();
          
          if (!hStack) {
            console.log('SearchBar not found in scroll handler');
            return;
          }
          
          // Get scroll position from multiple sources
          const boardsScrollTop = boardsMain ? boardsMain.scrollTop : 0;
          const windowScrollY = window.scrollY || window.pageYOffset || 0;
          const currentScrollTop = boardsScrollTop || windowScrollY;
          
          console.log('Scroll event fired:', { 
            currentScrollTop, 
            lastScrollTop, 
            isHidden,
            boardsScrollTop,
            windowScrollY,
            eventTarget: e ? e.target : 'unknown'
          });
          
          // Clear scroll stop timeout
          clearTimeout(scrollStopTimeout);
          
          // Clear timeout to debounce
          clearTimeout(scrollTimeout);
          scrollTimeout = setTimeout(() => {
            // Scroll down - hide
            if (currentScrollTop > lastScrollTop && currentScrollTop > 50) {
              console.log('Scrolling down, hiding SearchBar');
              hideSearchBar();
            }
            // Scroll up - show
            else if (currentScrollTop < lastScrollTop || currentScrollTop <= 50) {
              console.log('Scrolling up or at top, showing SearchBar');
              showSearchBar();
            }
            
            lastScrollTop = currentScrollTop;
            
            // Show after 1 second of no scrolling
            scrollStopTimeout = setTimeout(() => {
              console.log('1 second of no scrolling, showing SearchBar');
              showSearchBar();
            }, 1000);
          }, 10);
        }
        
        // Wait for boards-main and SearchBar to be available
        function initScrollListener() {
          const boardsMain = document.querySelector('.boards-main');
          const hStack = getSearchBar();
          
          if (!boardsMain) {
            console.log('boards-main not found yet');
            return false;
          }
          
          if (!hStack) {
            console.log('SearchBar not found yet');
            return false;
          }
          
          if (!isInitialized) {
            // Check what's actually scrolling
            console.log('boards-main scrollHeight:', boardsMain.scrollHeight, 'clientHeight:', boardsMain.clientHeight);
            console.log('boards-main overflow:', window.getComputedStyle(boardsMain).overflowY);
            
            // Try to find the actual scrolling container
            let scrollContainer = boardsMain;
            const body = document.body;
            const html = document.documentElement;
            
            // Check if body/html is scrolling instead
            if (body.scrollHeight > body.clientHeight || html.scrollHeight > html.clientHeight) {
              console.log('Body or HTML might be scrolling instead');
            }
            
            lastScrollTop = boardsMain.scrollTop || window.scrollY || window.pageYOffset || 0;
            
            // Add scroll listener to boards-main
            boardsMain.addEventListener('scroll', handleScroll, { passive: true });
            
            // Also add to window as fallback
            window.addEventListener('scroll', function() {
              const scrollY = window.scrollY || window.pageYOffset;
              console.log('Window scroll event:', scrollY);
              // Use window scroll if boards-main isn't scrolling
              if (boardsMain.scrollTop === 0 && scrollY > 0) {
                handleScroll();
              }
            }, { passive: true });
            
            isInitialized = true;
            console.log('Scroll listener initialized, initial scrollTop:', lastScrollTop);
            console.log('SearchBar element found:', hStack, hStack.className);
            console.log('SearchBar current styles:', {
              transform: window.getComputedStyle(hStack).transform,
              opacity: window.getComputedStyle(hStack).opacity
            });
            return true;
          }
          return false;
        }
        
        // Try immediately
        if (!initScrollListener()) {
          // Use MutationObserver to wait for DOM
          const observer = new MutationObserver(function() {
            if (initScrollListener()) {
              observer.disconnect();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true });
          
          // Also try on intervals as fallback
          let attempts = 0;
          const maxAttempts = 100;
          const interval = setInterval(function() {
            attempts++;
            if (initScrollListener() || attempts >= maxAttempts) {
              clearInterval(interval);
              observer.disconnect();
            }
          }, 100);
        }
        
        // Also monitor for React re-renders that might reset styles
        const styleObserver = new MutationObserver(function() {
          const hStack = getSearchBar();
          if (hStack && isInitialized) {
            // Re-apply hidden state if needed
            if (isHidden) {
              const currentTransform = window.getComputedStyle(hStack).transform;
              if (currentTransform === 'none' || currentTransform === 'matrix(1, 0, 0, 1, 0, 0)') {
                hideSearchBar();
              }
            }
          }
        });
        
        // Start monitoring after a delay to let React render
        setTimeout(() => {
          const hStack = getSearchBar();
          if (hStack) {
            styleObserver.observe(hStack, { 
              attributes: true, 
              attributeFilter: ['style', 'class'],
              childList: false,
              subtree: false
            });
          }
        }, 1000);
      })();
      
      // Navigate to results-page.html on Enter key in search bar
      (function() {
        let attempts = 0;
        const maxAttempts = 50;
        
        // Save search state to sessionStorage before navigation
        function saveSearchState(searchQuery, isExpanded) {
          try {
            sessionStorage.setItem('searchQuery', searchQuery);
            sessionStorage.setItem('searchBarExpanded', isExpanded ? 'true' : 'false');
            console.log('Saved search state:', { searchQuery, isExpanded });
          } catch(e) {
            console.log('Could not save search state:', e);
          }
        }
        
        function addSearchEnterHandler() {
          const searchBar = document.querySelector('.SearchBar-module__searchBar.SearchBar-module__expanded');
          if (searchBar) {
            const input = searchBar.querySelector('input');
            if (input && !input.hasAttribute('data-enter-handler-added')) {
              input.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.keyCode === 13) {
                  e.preventDefault();
                  const searchQuery = input.value || '';
                  const isExpanded = searchBar.classList.contains('SearchBar-module__expanded');
                  saveSearchState(searchQuery, isExpanded);
                  window.location.href = '/dweb-rh/results-page.html?q=' + encodeURIComponent(searchQuery);
                }
              });
              input.setAttribute('data-enter-handler-added', 'true');
              return true;
            }
          }
          return false;
        }
        
        // Also listen for when search bar expands
        function checkSearchBar() {
          const searchBar = document.querySelector('.SearchBar-module__searchBar');
          if (searchBar) {
            const input = searchBar.querySelector('input');
            if (input && !input.hasAttribute('data-enter-handler-added')) {
              input.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.keyCode === 13) {
                  const isExpanded = searchBar.classList.contains('SearchBar-module__expanded');
                  if (isExpanded) {
                    e.preventDefault();
                    const searchQuery = input.value || '';
                    saveSearchState(searchQuery, isExpanded);
                    window.location.href = '/dweb-rh/results-page.html?q=' + encodeURIComponent(searchQuery);
                  }
                }
              });
              input.setAttribute('data-enter-handler-added', 'true');
              return true;
            }
          }
          return false;
        }
        
        if (!checkSearchBar()) {
          const observer = new MutationObserver(function() {
            attempts++;
            if (checkSearchBar() || addSearchEnterHandler() || attempts >= maxAttempts) {
              observer.disconnect();
            }
          });
          observer.observe(document.body, { childList: true, subtree: true, attributes: true, attributeFilter: ['class'] });
          
          const interval = setInterval(function() {
            attempts++;
            if (checkSearchBar() || addSearchEnterHandler() || attempts >= maxAttempts) {
              clearInterval(interval);
              observer.disconnect();
            }
          }, 100);
        }
      })();
      
      // Randomize SearchHelperCard images and titles
      (function() {
        const imageFiles = [];
        for (let i = 1; i <= 21; i++) {
          imageFiles.push(`/dweb-rh/assets/images/hf-${i}.jpg`);
        }
        
        const searchTerms = {
          "women's fashion": [
            "summer dresses", "casual outfits", "workwear style", "street fashion", "vintage clothing",
            "accessories", "shoes", "handbags", "jewelry", "trendy outfits"
          ],
          "home decor": [
            "living room ideas", "bedroom design", "kitchen decor", "wall art", "furniture",
            "lighting ideas", "plants", "color schemes", "minimalist design", "cozy spaces"
          ],
          "beauty": [
            "makeup looks", "skincare routine", "hair styles", "nail art", "beauty tips",
            "product reviews", "tutorials", "natural beauty", "glam looks", "everyday makeup"
          ],
          "art": [
            "watercolor paintings", "digital art", "sketches", "abstract art", "portraits",
            "illustrations", "art techniques", "color theory", "art supplies", "artistic inspiration"
          ],
          "recipe ideas": [
            "quick meals", "dessert recipes", "healthy options", "baking ideas", "dinner recipes",
            "breakfast ideas", "snacks", "vegetarian meals", "comfort food", "party recipes"
          ]
        };
        
        function randomizeSearchHelperCards() {
          const helperCards = document.querySelectorAll('.SearchHelperCard-module__helperCard');
          
          helperCards.forEach((card, index) => {
            // Skip if already processed
            if (card.hasAttribute('data-card-processed')) return;
            card.setAttribute('data-card-processed', 'true');
            
            // Add numbered class to differentiate each card's position
            card.classList.add(`SearchHelperCard-module__helperCard-${index + 1}`);
            
            // Get the category to determine which search terms to use
            const categoryElement = card.querySelector('.SearchHelperCard-module__category');
            if (!categoryElement) return;
            
            // Update category text for specific cards
            if (index === 1) { // Card 2
              categoryElement.textContent = 'Recent Search';
            } else if (index === 2) { // Card 3
              categoryElement.textContent = 'Recently viewed';
            } else if (index === 3) { // Card 4
              categoryElement.textContent = 'Recently saved';
            }
            
            const category = categoryElement.textContent.trim().toLowerCase();
            
            // Randomize image
            const thumbnail = card.querySelector('.SearchHelperCard-module__thumbnail');
            if (thumbnail) {
              const imageElement = thumbnail.querySelector('img');
              if (imageElement) {
                const randomImage = imageFiles[Math.floor(Math.random() * imageFiles.length)];
                imageElement.src = randomImage;
              } else {
                // Check for gradient or icon thumbnails and replace with image
                const gradientThumb = thumbnail.querySelector('.SearchHelperCard-module__gradientThumb');
                const iconThumb = thumbnail.querySelector('.SearchHelperCard-module__iconThumb');
                if (gradientThumb || iconThumb) {
                  const img = document.createElement('img');
                  img.src = imageFiles[Math.floor(Math.random() * imageFiles.length)];
                  img.className = 'SearchHelperCard-module__imageThumb';
                  img.alt = 'Search suggestion';
                  thumbnail.innerHTML = '';
                  thumbnail.appendChild(img);
                }
              }
            }
            
            // Randomize title based on category
            const titleElement = card.querySelector('.SearchHelperCard-module__title');
            if (titleElement && category in searchTerms) {
              const terms = searchTerms[category];
              const randomTerm = terms[Math.floor(Math.random() * terms.length)];
              titleElement.textContent = randomTerm;
            }
          });
        }
        
        // Wait for React to render the cards
        let attempts = 0;
        const maxAttempts = 100;
        const checkInterval = setInterval(function() {
          attempts++;
          const helperCards = document.querySelectorAll('.SearchHelperCard-module__helperCard');
          if (helperCards.length > 0 || attempts >= maxAttempts) {
            clearInterval(checkInterval);
            if (helperCards.length > 0) {
              randomizeSearchHelperCards();
            }
          }
        }, 100);
        
        // Also watch for when cards are added dynamically
        const observer = new MutationObserver(function() {
          const helperCards = document.querySelectorAll('.SearchHelperCard-module__helperCard');
          if (helperCards.length > 0) {
            randomizeSearchHelperCards();
          }
        });
        observer.observe(document.body, { childList: true, subtree: true });
      })();
    </script>
    <div class="app-container">
      <main class="boards-main">
        <div class="profile-header">
          <h1 class="boards-title">Your saved ideas</h1>
          <div class="boards-tabs">
            <button class="boards-tab active" data-tab="pins">Pins</button>
            <button class="boards-tab" data-tab="boards">Boards</button>
            <button class="boards-tab" data-tab="collages">Collages</button>
          </div>
          <div class="filter-controls">
            <div class="filter-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 16.2499C6.695 16.2499 6.04167 15.5966 6.04167 14.7916C6.04167 13.9866 6.695 13.3333 7.5 13.3333C8.305 13.3333 8.95833 13.9866 8.95833 14.7916C8.95833 15.5966 8.305 16.2499 7.5 16.2499ZM18.5417 13.3333H11.6075C11.0042 11.6383 9.4025 10.4166 7.5 10.4166C5.5975 10.4166 3.99583 11.6383 3.3925 13.3333H1.45833C0.653333 13.3333 0 13.9866 0 14.7916C0 15.5966 0.653333 16.2499 1.45833 16.2499H3.3925C3.99583 17.9449 5.5975 19.1666 7.5 19.1666C9.4025 19.1666 11.0042 17.9449 11.6075 16.2499H18.5417C19.3467 16.2499 20 15.5966 20 14.7916C20 13.9866 19.3467 13.3333 18.5417 13.3333ZM12.5 3.74992C13.305 3.74992 13.9583 4.40325 13.9583 5.20825C13.9583 6.01325 13.305 6.66658 12.5 6.66658C11.695 6.66658 11.0417 6.01325 11.0417 5.20825C11.0417 4.40325 11.695 3.74992 12.5 3.74992ZM1.45833 6.66658H8.3925C8.99583 8.36158 10.5975 9.58325 12.5 9.58325C14.4025 9.58325 16.0042 8.36158 16.6075 6.66658H18.5417C19.3467 6.66658 20 6.01325 20 5.20825C20 4.40325 19.3467 3.74992 18.5417 3.74992H16.6075C16.0042 2.05492 14.4025 0.833252 12.5 0.833252C10.5975 0.833252 8.99583 2.05492 8.3925 3.74992H1.45833C0.653333 3.74992 0 4.40325 0 5.20825C0 6.01325 0.653333 6.66658 1.45833 6.66658Z" fill="#111111"/>
              </svg>
            </div>
            <button class="group-button">Group</button>
            <button class="secret-button">Secret</button>
            <button class="archived-button">Archived</button>
          </div>
          <div class="profile-preview">
            <img src="/dweb-rh/assets/avatar/avatar.png" alt="Avatar" class="boards-avatar">
            <div class="profile-info-wrapper">
              <div class="profile-name">Peter Som</div>
              <div class="profile-description">Chocolate jelly beans danish chocolate cookie liquorice liqu...</div>
              <div class="profile-stats">177 followers  16k following</div>
            </div>
            <button class="view-profile-button">View profile</button>
          </div>
        </div>
        <div class="MasonryGrid-module__gridContainer packery-container">
          <div class="board-rep">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-5.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-14.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-19.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Pink vibes</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-2">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-12.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-10.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-9.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Freshness</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-3">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-3.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-4.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-21.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Adventure</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-4">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-13.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-12.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-3.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Hike</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-5">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-14.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-15.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-7.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Swimming</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-6">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-1.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-8.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-11.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Haus</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-7">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-6.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-16.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-18.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Kicks</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-8">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-17.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-20.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-2.webp" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Travel</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-9">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-4.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-13.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-5.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Looks</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-10">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-21.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-1.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-6.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Type</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-11">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-8.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-7.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-9.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Colours</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-12">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-10.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-14.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-17.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Rides</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-13">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-11.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-19.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-20.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Shackets</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-14">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-15.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-4.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-8.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Parisian apartment</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
          <div class="board-rep board-rep-15">
            <div class="board-rep-left">
              <img src="/dweb-rh/assets/images/hf-18.jpg" alt="Board image">
            </div>
            <div class="board-rep-right">
              <img src="/dweb-rh/assets/images/hf-12.jpg" alt="Board image" class="board-rep-small-top">
              <img src="/dweb-rh/assets/images/hf-16.jpg" alt="Board image" class="board-rep-small-bottom">
            </div>
            <div class="board-title">Pink vibes</div>
            <div class="board-subtitle">123 Pins  4 sections</div>
          </div>
        </div>
      </main>
    </div>
    <script>
      // Style the boards IconButton as selected
      (function() {
        function styleBoardsIcon() {
          // Find all IconButtons
          const iconButtons = document.querySelectorAll('.IconButton-module__iconButton');
          
          iconButtons.forEach(button => {
            // Check if this is the boards icon by looking for "Boards" text or aria-label
            const text = button.textContent || button.innerText || '';
            const ariaLabel = button.getAttribute('aria-label') || '';
            const title = button.getAttribute('title') || '';
            
            if (text.includes('Boards') || ariaLabel.toLowerCase().includes('boards') || title.toLowerCase().includes('boards')) {
              button.style.backgroundColor = '#000000';
              button.style.borderRadius = '8px';
              button.style.padding = '8px 12px';
              
              // Make icon white
              const svg = button.querySelector('svg');
              if (svg) {
                svg.style.fill = '#ffffff';
                svg.style.color = '#ffffff';
                const paths = svg.querySelectorAll('path');
                paths.forEach(path => {
                  path.style.fill = '#ffffff';
                });
              }
            }
          });
        }
        
        // Try immediately
        styleBoardsIcon();
        
        // Try after a delay to wait for React to render
        setTimeout(styleBoardsIcon, 500);
        setTimeout(styleBoardsIcon, 1000);
        setTimeout(styleBoardsIcon, 2000);
        
        // Watch for DOM changes
        const observer = new MutationObserver(() => {
          styleBoardsIcon();
        });
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      })();
      
      // Simple masonry grid implementation without Packery to avoid React conflicts
      (function() {
        // Tab functionality
        document.addEventListener('DOMContentLoaded', function() {
          const tabs = document.querySelectorAll('.boards-tab');
          
          tabs.forEach(tab => {
            tab.addEventListener('click', function() {
              tabs.forEach(t => t.classList.remove('active'));
              this.classList.add('active');
            });
          });
          
          // Simple masonry grid implementation
          function initMasonryGrid() {
            const gridContainer = document.querySelector('.MasonryGrid-module__gridContainer.packery-container');
            if (!gridContainer) return;
            
            // Responsive breakpoints
            const breakpoints = [
              { min: 1372, cols: 5 },
              { min: 1115, cols: 4 },
              { min: 860, cols: 3 },
              { min: 500, cols: 2 }
            ];
            
            function getColumnCount() {
              const width = window.innerWidth;
              for (const bp of breakpoints) {
                if (width >= bp.min) {
                  return bp.cols;
                }
              }
              return 1;
            }
            
            function calculateColumnWidth(containerWidth, columnCount, gutter) {
              const totalGutters = gutter * (columnCount - 1);
              return (containerWidth - totalGutters) / columnCount;
            }
            
            function layoutGrid() {
              const windowWidth = window.innerWidth;
              const leftMargin = 32;
              const rightMargin = 104;
              const containerWidth = windowWidth - leftMargin - rightMargin;
              const columnCount = getColumnCount();
              const gutter = 16;
              const columnWidth = calculateColumnWidth(containerWidth, columnCount, gutter);
              
              const boardReps = gridContainer.querySelectorAll('.board-rep');
              const columnHeights = Array(columnCount).fill(0);
              
              boardReps.forEach((rep) => {
                // Scale board-rep proportionally
                const scale = columnWidth / 236;
                const repHeight = Math.floor(157 * scale);
                const leftWidth = Math.floor(157 * scale);
                const rightWidth = Math.floor(78 * scale);
                const smallImageHeight = Math.floor((repHeight - 1) / 2);
                
                rep.style.width = columnWidth + 'px';
                rep.style.height = repHeight + 'px';
                rep.style.position = 'absolute';
                
                const left = rep.querySelector('.board-rep-left');
                const right = rep.querySelector('.board-rep-right');
                if (left) {
                  left.style.width = leftWidth + 'px';
                  left.style.height = repHeight + 'px';
                }
                if (right) {
                  right.style.width = rightWidth + 'px';
                  right.style.height = repHeight + 'px';
                  const smallImages = right.querySelectorAll('img');
                  smallImages.forEach((img) => {
                    img.style.width = rightWidth + 'px';
                    img.style.height = smallImageHeight + 'px';
                  });
                }
                
                // Find shortest column
                const shortestColumn = columnHeights.indexOf(Math.min(...columnHeights));
                
                // Position item
                const x = shortestColumn * (columnWidth + gutter);
                const y = columnHeights[shortestColumn];
                
                rep.style.left = x + 'px';
                rep.style.top = y + 'px';
                
                // Update column height (add item height + title/subtitle height + gutter)
                const titleHeight = 16 + 8; // title height + top margin
                const subtitleHeight = 12 + 4; // subtitle height + spacing
                const totalItemHeight = repHeight + titleHeight + subtitleHeight;
                columnHeights[shortestColumn] += totalItemHeight + gutter;
              });
              
              // Set container height
              const maxHeight = Math.max(...columnHeights);
              gridContainer.style.height = maxHeight + 'px';
            }
            
            // Initialize on load
            layoutGrid();
            
            // Reinitialize on resize with debounce
            let resizeTimeout;
            window.addEventListener('resize', () => {
              clearTimeout(resizeTimeout);
              resizeTimeout = setTimeout(() => {
                layoutGrid();
              }, 250);
            });
          }
          
          // Initialize masonry grid
          initMasonryGrid();
        });
      })();
    </script>
  </body>
</html>
